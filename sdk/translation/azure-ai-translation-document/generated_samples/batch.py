# coding=utf-8
# --------------------------------------------------------------------------
# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License. See License.txt in the project root for license information.
# Code generated by Microsoft (R) Python Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is regenerated.
# --------------------------------------------------------------------------

from azure.ai.translation.document import DocumentTranslationClient

"""
# PREREQUISITES
    pip install azure-ai-translation-document
# USAGE
    python batch.py
"""


def main():
    client = DocumentTranslationClient(
        endpoint="{endpoint}",
        credential="CREDENTIAL",
    )

    response = client.begin_translation(
        body={
            "inputs": [
                {
                    "source": {
                        "filter": {"prefix": "pre", "suffix": ".txt"},
                        "language": "en",
                        "sourceUrl": "https://myblob.blob.core.windows.net/sourceContainer",
                        "storageSource": "AzureBlob",
                    },
                    "storageType": "Folder",
                    "targets": [
                        {
                            "category": "general",
                            "glossaries": [
                                {
                                    "format": "XLIFF",
                                    "glossaryUrl": "https://myblob.blob.core.windows.net/myglossary/en_fr_glossary.xlf",
                                    "storageSource": "AzureBlob",
                                }
                            ],
                            "language": "fr",
                            "storageSource": "AzureBlob",
                            "targetUrl": "https://myblob.blob.core.windows.net/destinationContainer1",
                        },
                        {
                            "category": "general",
                            "language": "es",
                            "storageSource": "AzureBlob",
                            "targetUrl": "https://myblob.blob.core.windows.net/destinationContainer2",
                        },
                    ],
                }
            ]
        },
    ).result()
    print(response)


# x-ms-original-file: 2024-11-01-preview/batch.json
if __name__ == "__main__":
    main()
